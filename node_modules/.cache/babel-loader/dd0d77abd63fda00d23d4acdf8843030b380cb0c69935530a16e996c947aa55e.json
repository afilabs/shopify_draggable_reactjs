{"ast":null,"code":"import { Sortable } from \"@shopify/draggable\";\nlet sortable = null;\nconst SortableList = _ref => {\n  let {\n    draggableSelector,\n    indexAttribute,\n    onSort,\n    children\n  } = _ref;\n  const initSortable = containerEl => {\n    if (sortable) return;\n    sortable = new Sortable(containerEl, {\n      draggable: draggableSelector\n    }).on(\"sortable:sorted\", onDragSorted);\n  };\n  const onDragSorted = _ref2 => {\n    let {\n      data\n    } = _ref2;\n    const {\n      dragEvent\n    } = data;\n    const {\n      over,\n      source\n    } = dragEvent;\n    const overIndex = over.getAttribute(indexAttribute);\n    const sourceIndex = source.getAttribute(indexAttribute);\n    source.setAttribute(indexAttribute, overIndex);\n    console.log(\"source:\" + sourceIndex);\n    console.log(\"over:\" + overIndex);\n    onSort(sourceIndex, overIndex);\n  };\n  return children({\n    initSortable: initSortable\n  });\n};\n_c = SortableList;\nexport default SortableList;\nvar _c;\n$RefreshReg$(_c, \"SortableList\");","map":{"version":3,"names":["Sortable","sortable","SortableList","_ref","draggableSelector","indexAttribute","onSort","children","initSortable","containerEl","draggable","on","onDragSorted","_ref2","data","dragEvent","over","source","overIndex","getAttribute","sourceIndex","setAttribute","console","log","_c","$RefreshReg$"],"sources":["/Users/afian/Documents/node_apps/reactjs-shopify-draggable-learning/src/SortableList.js"],"sourcesContent":["import { Sortable } from \"@shopify/draggable\";\n\nlet sortable = null;\n\nconst SortableList = ({\n  draggableSelector,\n  indexAttribute,\n  onSort,\n  children,\n}) => {\n  const initSortable = (containerEl) => {\n    if (sortable) return;\n\n    sortable = new Sortable(containerEl, {\n      draggable: draggableSelector,\n    }).on(\"sortable:sorted\", onDragSorted);\n  };\n\n  const onDragSorted = ({ data }) => {\n\n    \n\n    const { dragEvent } = data;\n    const { over, source } = dragEvent;\n\n    const overIndex = over.getAttribute(indexAttribute);\n    const sourceIndex = source.getAttribute(indexAttribute);\n\n    source.setAttribute(indexAttribute, overIndex);\n\n    console.log(\"source:\" + sourceIndex);\n    console.log(\"over:\" + overIndex);\n\n    onSort(sourceIndex, overIndex);\n  };\n\n  return children({ initSortable: initSortable });\n};\n\nexport default SortableList;\n"],"mappings":"AAAA,SAASA,QAAQ,QAAQ,oBAAoB;AAE7C,IAAIC,QAAQ,GAAG,IAAI;AAEnB,MAAMC,YAAY,GAAGC,IAAA,IAKf;EAAA,IALgB;IACpBC,iBAAiB;IACjBC,cAAc;IACdC,MAAM;IACNC;EACF,CAAC,GAAAJ,IAAA;EACC,MAAMK,YAAY,GAAIC,WAAW,IAAK;IACpC,IAAIR,QAAQ,EAAE;IAEdA,QAAQ,GAAG,IAAID,QAAQ,CAACS,WAAW,EAAE;MACnCC,SAAS,EAAEN;IACb,CAAC,CAAC,CAACO,EAAE,CAAC,iBAAiB,EAAEC,YAAY,CAAC;EACxC,CAAC;EAED,MAAMA,YAAY,GAAGC,KAAA,IAAc;IAAA,IAAb;MAAEC;IAAK,CAAC,GAAAD,KAAA;IAI5B,MAAM;MAAEE;IAAU,CAAC,GAAGD,IAAI;IAC1B,MAAM;MAAEE,IAAI;MAAEC;IAAO,CAAC,GAAGF,SAAS;IAElC,MAAMG,SAAS,GAAGF,IAAI,CAACG,YAAY,CAACd,cAAc,CAAC;IACnD,MAAMe,WAAW,GAAGH,MAAM,CAACE,YAAY,CAACd,cAAc,CAAC;IAEvDY,MAAM,CAACI,YAAY,CAAChB,cAAc,EAAEa,SAAS,CAAC;IAE9CI,OAAO,CAACC,GAAG,CAAC,SAAS,GAAGH,WAAW,CAAC;IACpCE,OAAO,CAACC,GAAG,CAAC,OAAO,GAAGL,SAAS,CAAC;IAEhCZ,MAAM,CAACc,WAAW,EAAEF,SAAS,CAAC;EAChC,CAAC;EAED,OAAOX,QAAQ,CAAC;IAAEC,YAAY,EAAEA;EAAa,CAAC,CAAC;AACjD,CAAC;AAACgB,EAAA,GAjCItB,YAAY;AAmClB,eAAeA,YAAY;AAAC,IAAAsB,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}